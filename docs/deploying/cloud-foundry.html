<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
			<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-73924704-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

		gtag('config', 'UA-73924704-2', { 'anonymize_ip': true });
</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <title>Using Cloud Foundry</title>
    <link rel="icon" type="image/png" href="../../assets/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../../assets/favicon-16x16.png" sizes="16x16" />
    <link href=“https://fonts.googleapis.com/css?family=IBM+Plex+Sans” rel=“stylesheet”>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/dist/docs.css">
  </head>
<body>
  <section class="docs-grid-container">
    <aside id="sidebar" class="docs-item-1 docs-sidebar">
      <h1 class="docs-title"><a href="/index.html">KITURA <span class="blue-text">DOCS</span></a></h1>
      <div class="underline-title"></div>
      <ul class="sidebar-list">
        <li class="sidebar-item collapsible">Getting Started</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../getting-started/installation-mac.html">Install Swift for macOS</a></li>
          <li class="nested-sidebar-item"><a href="../getting-started/installation-linux.html">Install Swift for Linux</a></li>
          <li class="nested-sidebar-item"><a href="../getting-started/hello-world.html">Hello World</a></li>
          <li class="nested-sidebar-item"><a href="../getting-started/create-server.html">Create a server</a></li>

          <li class="nested-sidebar-item"><a href="../getting-started/update-package.html">Adding Packages</a></li>
        </ul>
        <li class="sidebar-item collapsible">Logging</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../logging/logging.html">What is Logging?</a></li>
          <li class="nested-sidebar-item"><a href="../logging/helium-logger.html">Helium Logger</a></li>
        </ul>
        <li class="sidebar-item collapsible">Routing</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../routing/routing.html">What is routing?</a></li>
          <li class="nested-sidebar-item"><a href="../routing/codable-routing.html">Codable routing</a></li>
          <li class="nested-sidebar-item"><a href="../routing/raw-routing.html">Raw routing</a></li>
          <li class="nested-sidebar-item"><a href="../routing/open-api.html">OpenAPI</a></li>
        </ul>
        <li class="sidebar-item collapsible">Databases</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../databases/databases.html">What are Databases?</a></li>
          <li class="nested-sidebar-item"><a href="../databases/swift-kuery-orm.html">SQL: ORM</a></li>
          <li class="nested-sidebar-item"><a href="../databases/swift-kuery.html">SQL: Kuery</a></li>
          <li class="nested-sidebar-item"><a href="../databases/couchdb.html">NoSQL: CouchDB</a></li>
        </ul>
        <li class="sidebar-item collapsible">Sessions</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../sessions/sessions.html">What are Sessions?</a></li>
          <li class="nested-sidebar-item"><a href="../sessions/kitura-session.html">Raw Routing Session</a></li>
          <li class="nested-sidebar-item"><a href="../sessions/type-safe-session.html">Codable Routing Session</a></li>
        </ul>
        <li class="sidebar-item collapsible">Authentication</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../authentication/authentication.html">What is Authentication?</a></li>
          <li class="nested-sidebar-item"><a href="../authentication/typesafe-auth.html">Basic Authentication</a></li>
          <li class="nested-sidebar-item"><a href="../authentication/jwt-auth.html">JSON Web Tokens</a></li>
          <li class="nested-sidebar-item"><a href="../authentication/fb-google-oauth2.html">OAuth 2.0 with Facebook/Google</a></li>
        </ul>
        <li class="sidebar-item collapsible">Web Application</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../templating/templating.html">What are Web Applications?</a></li>
          <li class="nested-sidebar-item"><a href="../templating/static-file-server.html">Static File Server</a></li>
          <li class="nested-sidebar-item"><a href="../templating/stencil.html">Stencil</a></li>
          <li class="nested-sidebar-item"><a href="../templating/markdown.html">Markdown</a></li>
        </ul>
        <li class="sidebar-item collapsible">WebSockets</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../websockets/websockets.html">What are WebSockets?</a></li>
          <li class="nested-sidebar-item"><a href="../websockets/echo-server.html">Echo Server</a></li>
        </ul>
        <li class="sidebar-item collapsible">Deploying</li>
        <ul class="nested-sidebar-list content" style="max-height: 400px;">
          <li class="nested-sidebar-item"><a href="../deploying/monitoring.html">Monitoring</a></li>
          <li class="nested-sidebar-item"><a href="../deploying/ssl.html">Enabling SSL/TLS</a></li>
          <li class="nested-sidebar-item"><a href="../deploying/docker.html">Docker</a></li>
          <li class="nested-sidebar-item"><a href="../deploying/kubernetes.html">Kubernetes</a></li>
          <li class="nested-sidebar-item active"><a href="../deploying/cloud-foundry.html">Cloud Foundry</a></li>
        </ul>
        <li class="sidebar-item collapsible">Configuring</li>
        <ul class="nested-sidebar-list content">
          <li class="nested-sidebar-item"><a href="../configuring/enabling-nio.html">Enabling SwiftNIO</a></li>
        </ul>
      </ul>
    </aside>
    <div id="burgerIcon" class="burger-icon" onclick="showSidebar()">
      <div class="burger-line"></div>
      <div class="burger-line"></div>
      <div class="burger-line"></div>
    </div>
    <div class="docs-item-2 search-container">
    </div>
    <nav class="docs-item-3 docs-nav">
      <button id="api-button" class="apiref-button" type="button" name="button" onclick="window.open('https://ibm-swift.github.io/Kitura/')">API Reference</button>
      <a class="nav-item" target="_blank" href="http://slack.kitura.io/">Need help?</a>
      <a class="nav-item" target="_blank" href="https://github.com/IBM-Swift/kitura.io/issues">Found an issue?</a>
    </nav>
    <div id="doc-container" class="docs-item-4 docs-window">
      <main>
        <h1 class="heading-1">Deploying with Cloud Foundry</h1>
        <div class="underline"></div>
        <p>This guide will show you how to deploy your Kitura application to a <a href="https://www.cloudfoundry.org" >Cloud Foundry</a> based cloud environment. The guide assumes you already have an environment to deploy to. If not, you can sign up to <a href="https://www.ibm.com/cloud/free/">IBM Cloud</a> for free and use it to host your Cloud Foundry apps.
        <h2 class="heading-2">Step 1: Create a manifest.yml file</h2>
        <p>If you used the Kitura CLI, or macOS app, to create your Kitura project, your generated Kitura project will already contain a <strong>manifest.yml</strong> file which you can use to deploy your application. </p>
        <p>If you created your Kitura application from scratch, create a <strong>manifest.yml</strong> file in the root directory of your application. Once you have created the file, add the following to your file, replacing <strong>MYAPP</strong> with the name of your application.</p>
        <pre><code>---
applications:
- name: MYAPP
</pre></code></p>
        <p>If you're deploying to the default Swift buildpack on IBM Cloud, you also need to supply the command required to run your application, for example:</p>
        <pre><code>
  command: "'MYAPP'"
        </pre></code>
        <p>Although you can deploy applications without a manifest, manifests provide consistency and reproducibility across deployments. You can also specify <a href="https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html">additional application attributes</a> within your manifest.</p>
        <p>We are going to use the Cloud Foundry command line interface, so first we need to <a href="https://github.com/cloudfoundry/cli#downloads">install the Cloud Foundry CLI</a>.</p>
        <p>If you are using IBM Cloud, it is recommended that you deploy to Cloud Foundry using the IBM Cloud CLI tools.</p>
        <p>Download the required CLI tools using the Kitura CLI:</p>
        <code><pre>kitura idt</pre></code>
        <div class="info">
          <p>If you don't have the Kitura CLI installed, you can also install the required CLI tools with the following command:</p>
          <code><pre>curl -sL https://ibm.biz/idt-installer | bash</pre></code>
        </div>
       <div class="underline"></div>
        <h2 class="heading-2">Step 2: Set URL target</h2>
        <p>To push your application, you first need to consult your cloud operator to find the URL you need to target. If you are on IBM Cloud, you can look in the <a href="https://cloud.ibm.com/docs/cf-cli-plugin?topic=cf-cli-plugin-cf-cli-plugin">IBM Cloud Foundry CLI documentation for the cf api command</a> to locate the Cloud Foundry API endpoint for your region.</p>
        <p>You can set it in the command line like this:</p>
        <pre><code>cf login -a &ltAPI endpoint&gt</code></pre>
        <p>For example, if your IBM Cloud account is in the <strong>eu-gb</strong> region this would be:
        <pre><code>cf login -a api.eu-gb.cf.cloud.ibm.com</pre></code>
        <p>You’ll also need to provide your username and password when prompted.</p>
        <div class="info">
          <p>If you are deploying to the IBM Cloud, it is recommended that you use the IBM Cloud CLI. To do this all you need to do is add the <strong>ibmcloud</strong> prefix to the <strong>cf</strong> commands throughout this guide, for example:</p>
          <code><pre>ibmcloud cf login -a &ltAPI endpoint&gt</pre></code>
        </div>
        <div class="underline"></div>
        <h2 class="heading-2">Step 3: Set target organisation</h2>
        <p>If you are on IBM Cloud, you can find your organisation and space by logging into IBM Cloud and going into <strong>Manage > Account > Cloud Foundry orgs</strong>. If you are on the Lite/free tier an organisation will have already been created in your account, the organisation name is the <strong>name</strong> listed on this page, in my case it's my email address.</p>
        <p>To find the associated spaces within the organisation, click <strong>...</strong> (next to your organisation) and select <strong>Spaces</strong>. If there are no spaces listed, click <strong>Add a space</strong> to create one, specifying your choice of name (e.g. dev) and region. Make sure that you locate your space in the same region as your API endpoint!</p>
        <p>Set target:</p>
        <pre><code class="language-swift">cf target -o &ltorganisation&gt -s &ltspace&gt</code></pre>
        <div class="underline"></div>
        <h2 class="heading-2">Step 4: Push your app</h2>
        <p>Now, you’re ready to push your app. Simply run the following command from the same location as your <strong>manifest.yml</strong>:</p>
        <pre><code class="language-swift">cf push</code></pre>
        <p class="block-text">Your Kitura application should now be successfully deployed into your Cloud Foundry environment! If you have a <strong>manifest.yml</strong> file which was generated for you, it will have been assigned a random route as the file contains: <pre><code>random-route: true</pre></code></p>
        <p>If you visit this URL you should see your running application.</p>
      </main>
    </div>
    <div id="top-page" class="top-page">
      <a href="#">Back to top</a>
    </div>
  </section>
  <script type="text/javascript" src="../../scripts/learn.js"></script>
</body>
</html>
