<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a628a1300ca53396ae6b.css">.header-module--header--2Q3RK{display:flex;height:75px;align-items:center;box-shadow:0 2.5px 4px rgba(0,0,0,.1)}.header-module--home-link--15xnn{text-decoration:none;color:inherit;display:flex;align-items:center;width:60%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.header-module--logo-section--3Q8-7{width:20%;margin-left:50px}.header-module--home-link--15xnn>h1{font-size:2rem;margin-left:.5rem}.header-module--header-image--t_wFI{width:60px}.header-module--header-nav--JLMri{width:55%}.header-module--nav-link--2jqj3{padding:.4rem .8rem;box-sizing:border-box;text-decoration:none;color:inherit;margin-right:2rem;font-weight:500;font-size:.8rem;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.header-module--nav-link--2jqj3:hover{color:#0096f4}@media only screen and (max-width:600px){.header-module--header--2Q3RK{display:none}}.search-module--dropdown--scJAx{width:25%;margin-right:50px;position:relative;z-index:99}.search-module--active-input--36xK4{width:205px;height:37.5px;float:right;border-radius:15px;border:none;background:#f8f8f8;padding:0 10px;font-size:.7rem}.search-module--dropdown-content--J8CNd{background-color:#f8f8f8;position:absolute;top:60px;max-height:50vh;min-width:300px;overflow:auto;border-radius:0 0 15px 15px}.search-module--dropdown-content-hide--9GPCf{display:none}.search-module--results-table--1InHv{height:100%}.search-module--search-row--3ToZQ{min-height:50px;width:100%;border-bottom:1px solid #fff}.search-module--search-row--3ToZQ:hover{background-color:#e8e8e8}.search-module--search-cell--2VDZ5{min-width:180px;padding:1rem 0 1rem 5%;color:#0096f4;font-size:.8rem}.search-module--type-cell--1jaXf{min-width:80px;font-size:.8rem;padding:1rem 2.5%;box-sizing:border-box}.search-module--search-row--3ToZQ>a{text-decoration:none;display:inline-block;width:100%}@media only screen and (max-width:600px){.search-module--dropdown--scJAx{width:50%;margin-right:25px}.search-module--active-input--36xK4{width:150px}.search-module--dropdown-content--J8CNd{max-width:150px;right:-10px}}.mobile-header-module--header--2k-0H{display:none}@media only screen and (max-width:600px){.mobile-header-module--header--2k-0H{display:flex;height:75px;position:fixed;width:100vw;background-color:#fff;align-items:center;box-shadow:0 2.5px 4px rgba(0,0,0,.1);z-index:9999}.mobile-header-module--home-link--tp11w{text-decoration:none;color:inherit;display:flex;align-items:center;width:60%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mobile-header-module--header-image--OoDQK{width:60px}.mobile-header-module--logo-section--38sB4{width:50%;margin-left:25px}.mobile-header-module--home-link--tp11w>h1{font-size:2rem;margin-left:.5rem}.mobile-header-module--header-nav--2IOOv{width:55%}.mobile-header-module--search-section--2jc4_{width:50%;margin-right:25px}.mobile-header-module--search-section--2jc4_>input{width:150px}}.footer-module--footer--3zCYC{display:flex;flex-direction:row;justify-content:center;align-items:center;height:75px;background-color:#0096f4}.footer-module--footer-link--rG16h{margin:0 1rem;text-decoration:none;color:#fff;font-weight:500}.footer-module--separator--3jUsh{height:30%;width:2px;background-color:#fff}@media only screen and (max-width:600px){.footer-module--footer--3zCYC{display:none}}.mobile-nav-module--mobile-nav--39noo{display:none}@media only screen and (max-width:600px){.mobile-nav-module--mobile-nav--39noo{display:block;height:75px;width:100%;position:fixed;bottom:0;box-shadow:1px -2.5px 4px rgba(0,0,0,.1);background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:2}.mobile-nav-module--nav-link--2OUm2{padding:.5em 1em;box-sizing:border-box;text-decoration:none;font-size:14px}}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-family:IBM Plex Sans,sans-serif;vertical-align:baseline;color:#535353}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}input:focus{outline-width:0}.blog-title{font-size:2.1rem;margin:2rem 5vw 1rem}.blog-author{color:#0096f4;margin:1rem 5vw .5rem;font-weight:500}.blog-date{margin:0 5vw 3rem;font-weight:400;font-size:.8rem}.blogs-window{margin:0 5vw;padding-bottom:4rem}.blogs-window h2{font-size:1.7rem;margin:2rem 0}.blogs-window h3{font-size:1.5rem;margin:2rem 0}.blogs-window h4{font-size:1.3rem;margin:2rem 0}.blogs-window h5{font-size:1.1rem;margin:2rem 0}.blogs-window h6{font-size:1rem;margin:2rem 0}.blogs-window p{line-height:26px;margin:1rem 0}.blogs-window ul{list-style:disc;margin-left:2rem}.blogs-window ul li{margin:.6rem 0}.blogs-window ol{margin:1rem 0}.blogs-window ol li{margin:.6rem 0}.blogs-window hr{margin:3rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.blogs-window a{color:#0096f4;text-decoration:none}.blogs-window pre{position:relative;height:auto;background:#f4f2f2;margin-bottom:1.5rem;border-radius:.55rem;box-shadow:1px 2px 2px #dedede;display:flex;align-items:center;padding:1rem 0 1rem 2rem;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;overflow-x:auto;overflow-y:hidden;cursor:pointer}.blogs-window blockquote{background-color:rgba(0,150,244,.13);padding:3%;border-left:4px solid #0096f4}.blogs-window blockquote pre{width:80%}.blogs-window table{margin:0 auto 3rem;width:90%}.blogs-window thead{background-color:rgba(0,150,244,.13);height:10rem}.blogs-window th{padding:1rem 0;font-weight:700}.blogs-window td,.blogs-window th{border:1px solid grey}.blogs-window td:first-child{color:#0096f4;font-weight:600}.blogs-window td{padding:.6rem .2rem}.sidebar-module--sidebar--1WywX{width:300px;background-color:#faf8f8;min-height:Calc(100vh - 75px);margin-top:4px;box-shadow:2px 4px 4px rgba(0,0,0,.1)}.sidebar-module--docs-section--2zy4l{font-weight:600;padding:2rem 0 0 2rem}.sidebar-module--sidebar-parent-item--3w2-A{font-size:1rem}.sidebar-module--sidebar-parent-item--3w2-A:hover{cursor:pointer}.sidebar-module--docs-section--2zy4l a{font-size:.8rem}.sidebar-module--nested-docs-section--2v1lu{margin-left:1rem}.sidebar-module--sidebar-item--UX4np{margin:.8rem 0}.sidebar-module--sidebar-link--M5Z4Z{text-decoration:none;font-size:1rem}.sidebar-module--active-link--1Y71N:hover,.sidebar-module--sidebar-link--M5Z4Z:hover{color:#0096f4;cursor:pointer}@media only screen and (max-width:600px){.sidebar-module--sidebar--1WywX{width:50vw;margin-top:75px;position:fixed;overflow-y:auto;z-index:1}.sidebar-module--docs-section--2zy4l{font-size:1rem}.sidebar-module--sidebar-link--M5Z4Z{font-size:.8rem}}.sidebar-extender-module--burger-icon--1K7MN{display:none}@media only screen and (max-width:600px){.sidebar-extender-module--burger-icon--1K7MN{display:block;position:fixed;bottom:100px;right:20px;padding:.5em;cursor:pointer}.sidebar-extender-module--line--3hC_R{width:15px;height:2px;margin-bottom:3px;background-color:#000}}.docs-window{padding:2.5rem 0 0 3rem;width:70vw;box-sizing:border-box;margin-bottom:2rem}.docs-window h1{font-size:2.1rem;margin:2rem 0}.docs-window h2{font-size:1.7rem;margin:2rem 0}.docs-window h3{font-size:1.5rem;margin:2rem 0}.docs-window h4{font-size:1.3rem;margin:2rem 0}.docs-window h5{font-size:1.1rem;margin:2rem 0}.docs-window h6{font-size:1rem;margin:2rem 0}.docs-window p{line-height:26px;margin:1rem 0}.docs-window ul{list-style:disc;margin-left:2rem}.docs-window ul li{margin:.6rem 0}.docs-window ol{margin:1rem 0}.docs-window ol li{margin:.6rem 0}.docs-window hr{margin:3rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.docs-window a{color:#0096f4;text-decoration:none}.docs-window pre{position:relative;height:auto;background:#f4f2f2;margin-bottom:1.5rem;border-radius:.55rem;box-shadow:1px 2px 2px #dedede;display:flex;align-items:center;padding:1rem 0 1rem 2rem;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;overflow-x:auto;overflow-y:hidden;cursor:pointer}.docs-window blockquote{background-color:rgba(0,150,244,.13);padding:3%;border-left:4px solid #0096f4}.docs-window blockquote pre{width:80%}.docs-window table{margin:0 auto 3rem;width:90%}.docs-window thead{background-color:rgba(0,150,244,.13);height:10rem}.docs-window th{padding:1rem 0;font-weight:700}.docs-window td,.docs-window th{border:1px solid grey}.docs-window td:first-child{color:#0096f4;font-weight:600}.docs-window td{padding:.6rem .2rem}@media only screen and (max-width:600px){.docs-window-mobile{width:90vw;padding:2rem 2.5vw;display:block;margin:75px auto}.docs-window-mobile h1{font-size:2rem;margin:2rem 0}.docs-window-mobile .h2{font-size:1.8rem;margin:2rem 0}.docs-window-mobile .h3{font-size:1.6rem;margin:2rem 0}.docs-window-mobile h4{font-size:1.4rem;margin:2rem 0}.docs-window-mobile h5{font-size:1.2rem;margin:2rem 0}.docs-window-mobile h6{font-size:1rem;margin:2rem 0}.docs-window-mobile p{line-height:24px;margin:1rem 0}.docs-window-mobile ul{list-style:disc;margin-left:2rem}.docs-window-mobile ul li{margin:.6rem 0}.docs-window-mobile ol{margin:1rem 0}.docs-window-mobile ol li{margin:.6rem 0}.docs-window-mobile hr{margin:3rem 0;border:.5px solid hsla(0,0%,43.9%,.5)}.docs-window-mobile a{color:#0096f4;text-decoration:none}.docs-window-mobile pre{position:relative;height:auto;background:#f4f2f2;margin-bottom:1.5rem;border-radius:.55rem;box-shadow:1px 2px 2px #dedede;display:flex;align-items:center;padding:1rem 0 1rem 2rem;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;overflow-x:auto;overflow-y:hidden;cursor:pointer}.docs-window-mobile blockquote{background-color:rgba(0,150,244,.13);padding:3%;border-left:4px solid #0096f4}.docs-window-mobile blockquote pre{width:80%}.docs-window-mobile table{margin:0 auto 3rem;width:90%}.docs-window-mobile thead{background-color:rgba(0,150,244,.13);height:10rem}.docs-window-mobile th{padding:1rem 0;font-weight:700}.docs-window-mobile td,.docs-window-mobile th{border:1px solid grey}.docs-window-mobile td:first-child{color:#0096f4;font-weight:600}.docs-window-mobile td{padding:.6rem .2rem}}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:green;font-style:italic}.token.namespace{opacity:.7}.token.string{color:#fa454b}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.inserted,.token.number,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,.token.atrule,.token.attr-value,.token.keyword,code[class*=language-css]{color:#f63bb0}.token.function{color:#00a78f}.language-autohotkey .token.tag,.token.deleted{color:#9a050f}.language-autohotkey .token.keyword,.token.selector{color:#00009f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.language-json .token.property,.token.class-name{color:#2b91af}.token.selector,.token.tag{color:maroon}.token.attr-name,.token.entity,.token.property,.token.regex{color:red}.token.directive.tag .tag{background:#ff0;color:#393a34}.blogs-module--page-title--16DUE{font-size:2.2rem;width:80%;margin:4rem auto 3rem}.blogs-module--blog-card--2WJbz{width:80%;margin:2rem auto 1rem;border-bottom:1px solid #000;padding-bottom:2rem}.blogs-module--blog-card--2WJbz:last-child{border-bottom:none}.blogs-module--blog-card--2WJbz>a{text-decoration:none}.blogs-module--blog-title--24s3s{font-size:1.8rem;margin-bottom:1rem}.blogs-module--blog-author--2fZkK{font-size:1.3rem;font-weight:600;color:#0096f4;margin-bottom:.5rem}.blogs-module--blog-date--2fhwE{font-size:1rem;font-weight:500;margin-bottom:1rem}.getting-started-module--hide--2n3fK{display:none}.getting-started-module--underline--AdZu3{height:1px;background-color:#535353;opacity:.3;width:80%;margin:2rem auto}.getting-started-module--main--f6koF{padding:0 10%;margin:3rem 0}.getting-started-module--main--f6koF>h1{font-size:2rem}.getting-started-module--main--f6koF>h2{font-size:1.5rem;font-weight:500}.getting-started-module--main--f6koF>p{margin:1rem 0;line-height:24px;font-size:16px}.getting-started-module--main--f6koF>p>a{text-decoration:none;color:#0096f4}@media only screen and (max-width:600px){.getting-started-module--page-section--2G4qx{padding-top:75px;padding-bottom:75px}}.code-section-module--code-example-section--17P4Q{margin-top:5rem;display:flex;align-items:center;justify-content:center}.code-section-module--left-button-section--1sLlq,.code-section-module--right-button-section--38mQ6{display:flex;flex-direction:column;width:30%}.code-section-module--code-example--2uAso{width:40%;margin:0 auto;height:450px;display:flex;align-items:center;justify-content:center;background-color:#f4f2f2;border-radius:10px;box-shadow:1px 2px 2px rgba(0,0,0,.16);box-sizing:border-box;padding:3rem}.code-section-module--code-snippet--1mb6x{width:100%;height:100%;font-size:12px;line-height:18px}.code-section-module--left-button-section--1sLlq>.code-section-module--active-code-button--3mg7g,.code-section-module--left-button-section--1sLlq>.code-section-module--code-button--1rR6V{-webkit-clip-path:polygon(80% 0,100% 50%,80% 100%,0 100%,0 0);clip-path:polygon(80% 0,100% 50%,80% 100%,0 100%,0 0);width:70%;margin-left:30%;padding-left:2rem}.code-section-module--right-button-section--38mQ6>.code-section-module--active-code-button--3mg7g,.code-section-module--right-button-section--38mQ6>.code-section-module--code-button--1rR6V{-webkit-clip-path:polygon(100% 0,100% 100%,20% 100%,0 50%,20% 0);clip-path:polygon(100% 0,100% 100%,20% 100%,0 50%,20% 0);width:70%;padding-left:6rem;margin-right:30%}.code-section-module--right-button-section--38mQ6>.code-section-module--code-button--1rR6V{margin-left:.1rem}.code-section-module--active-code-button--3mg7g:hover,.code-section-module--code-button--1rR6V:hover{cursor:pointer}.code-section-module--code-button--1rR6V{margin-bottom:2rem;height:80px;border:none;text-align:left}.code-section-module--code-button--1rR6V:active{outline:0}.code-section-module--active-code-button--3mg7g{margin-bottom:2rem;height:80px;text-align:left;background-color:#0096f4;color:#fff;border:none}.scroll-indicator-module--scroll-section--3QVxt{display:flex;width:75px;align-items:center;flex-direction:column;position:absolute;bottom:0;left:calc(50vw - 37.25px)}.scroll-indicator-module--scroll-text--2bfeo{font-size:.7rem}.scroll-indicator-module--scroll-indicator--CfeYo{height:25px;width:25px;background-color:#535353;-webkit-clip-path:polygon(45% 30%,55% 30%,55% 65%,65% 65%,50% 80%,35% 65%,45% 65%);clip-path:polygon(45% 30%,55% 30%,55% 65%,65% 65%,50% 80%,35% 65%,45% 65%);-webkit-animation:scroll-indicator-module--bounce--iknNz 1s infinite;animation:scroll-indicator-module--bounce--iknNz 1s infinite;box-sizing:border-box;position:relative}@-webkit-keyframes scroll-indicator-module--bounce--iknNz{0%{top:0}50%{top:5px}to{top:0}}@keyframes scroll-indicator-module--bounce--iknNz{0%{top:0}50%{top:5px}to{top:0}}.scroll-indicator-module--hidden--jYfyy{display:none}@media only screen and (max-width:600px){.scroll-indicator-module--scroll-section--3QVxt{bottom:75px}}.button-module--large-button--17rv8,.button-module--small-button--3pwO1{background:#0096f4;color:#fff;font-weight:700;border-radius:10px;border:none;box-shadow:2px 3px 4px rgba(0,150,244,.4);font-family:IBM Plex Sans,sans-serif}.button-module--large-button--17rv8{height:56.25px;width:225px;font-size:26px}.button-module--small-button--3pwO1{height:47.25px;width:170px;font-size:20px}.button-module--large-button--17rv8:focus,.button-module--small-button--3pwO1:focus{outline:0}.button-module--large-button--17rv8:hover,.button-module--small-button--3pwO1:hover{cursor:pointer}@media only screen and (max-width:600px){.button-module--large-button--17rv8{height:50px;width:200px;font-size:20px}.button-module--small-button--3pwO1{height:35px;width:150px;font-size:18px}}.index-module--landing-section--GgR3e{height:calc(100vh - 75px)}.index-module--cta-section--gnp3X{display:flex;flex-direction:column;align-items:center}.index-module--landing-content--15WnT{width:100%;text-align:center;font-size:52.5px;font-weight:700;margin-bottom:1rem}.index-module--welcome-section--2ejG2{height:100vh;display:grid}.index-module--welcome-content--9vEiI{width:60%;margin-left:50px;margin-top:3rem;grid-column:1/7;grid-row:1/2;margin-bottom:4rem}.index-module--welcome-content--9vEiI>h2{font-size:37.5px;margin-bottom:1.5rem}.index-module--welcome-content--9vEiI>p{font-size:18px;line-height:28px}.index-module--marketing-section--2XhBZ{margin-left:50px;grid-column:1/8;grid-row:2/4}.index-module--marketing-title--2tTDn{font-size:30px;margin-bottom:1rem}.index-module--marketing-subtitle--1gXIN{font-size:20px;margin-bottom:1rem}.index-module--marketing-card-section--2ndsr{display:flex}.index-module--marketing-card--6Wm5G{width:225px;height:225px;border-radius:10px;margin-right:50px;padding:20px;box-sizing:border-box;text-align:center}.index-module--marketing-card--6Wm5G>h5{font-size:18px;margin-bottom:2rem}.index-module--marketing-card--6Wm5G:first-child{box-shadow:-5px 10px 10px rgba(242,19,70,.1)}.index-module--marketing-card--6Wm5G:first-child>h5{color:#f21346}.index-module--marketing-card--6Wm5G:nth-child(2){box-shadow:-5px 10px 10px rgba(0,150,244,.1)}.index-module--marketing-card--6Wm5G:nth-child(2)>h5{color:#0096f4}.index-module--marketing-card--6Wm5G:nth-child(3){box-shadow:-5px 10px 10px rgba(0,198,137,.1)}.index-module--marketing-card--6Wm5G:nth-child(3)>h5{color:#00c689}.index-module--marketing-text--1F-ce{font-size:14px;line-height:20px}.index-module--sidebar-section--3g8ma{grid-column:9/13;grid-row:1/4;background-color:#fafafa;padding:0 20px;width:412.5px;height:750px;margin-top:3rem}.index-module--latest-news-title--2OhB_,.index-module--sidebar-link--260PN{font-size:15px;color:#0096f4;display:block;margin-left:10px;margin-bottom:10px;font-weight:400}.index-module--latest-news-text--2ubSj,.index-module--social-text--2i5Dr{margin-left:20px;margin-bottom:25px;font-size:15px;line-height:20px}.index-module--useful-links--qY-_w>p{display:flex;flex-direction:column;width:50%}.index-module--useful-links--qY-_w>p>a{text-decoration:none;margin-bottom:.8rem;color:#0096f4}.index-module--sidebar-title--14F8m{margin:2rem 0 1rem}.index-module--social-button-section--2A6ds{display:flex;flex-direction:column;align-items:center}.index-module--social-button-section--2A6ds>p{margin-top:.4rem;font-size:10px}.index-module--code-example-section--3yRZH{height:calc(100vh - 100px);margin-top:3rem}.index-module--code-example-title--tUgcI{font-size:37.5px;margin-bottom:1.5rem;margin-left:50px}.index-module--code-example-helper-text--1OCef{float:right;font-size:.8rem;margin-right:50px;margin-top:-50px;line-height:20px}@media only screen and (max-width:600px){.index-module--landing-section--GgR3e{padding-top:75px}.index-module--landing-content--15WnT{font-size:2rem;margin:3rem 0}.index-module--welcome-section--2ejG2{display:block;height:auto}.index-module--welcome-content--9vEiI{text-align:center;width:80vw;margin-bottom:3rem}.index-module--welcome-content--9vEiI>h2{font-size:1.6rem}.index-module--welcome-content--9vEiI>p{font-size:.8rem}.index-module--marketing-title--2tTDn{font-size:1.4rem}.index-module--marketing-section--2XhBZ{margin-bottom:75px}.index-module--marketing-subtitle--1gXIN{font-size:1.2rem;margin-bottom:2rem}.index-module--marketing-card-section--2ndsr{flex-direction:column;align-items:center}.index-module--code-example-section--3yRZH,.index-module--sidebar-section--3g8ma{display:none}}.slanting-graphic-module--main-parent-container--1ZZ25{height:300px;opacity:.6}.slanting-graphic-module--main-top-graphic--3j3lD{background-color:#0096f4;width:100%;height:100%;-webkit-clip-path:polygon(17% 0,100% 70%,100% 90%,0 40%,0 0);clip-path:polygon(17% 0,100% 70%,100% 90%,0 40%,0 0)}.slanting-graphic-module--main-bottom-graphic--2s4yr{background-color:#2fa7f2;width:100%;height:100%;-webkit-clip-path:polygon(0 15%,100% 84%,100% 100%,0 100%);clip-path:polygon(0 15%,100% 84%,100% 100%,0 100%)}.slanting-graphic-module--left-parent-container--33TS_{height:150px;opacity:.6}.slanting-graphic-module--left-top-graphic--1cv34{background-color:#0096f4;width:100%;height:100%;-webkit-clip-path:polygon(0 80%,100% 0,100% 70%,0 100%);clip-path:polygon(0 80%,100% 0,100% 70%,0 100%)}.slanting-graphic-module--left-bottom-graphic--29GWr{background-color:#2fa7f2;width:100%;height:100%;-webkit-clip-path:polygon(0 95%,100% 40%,100% 70%,0 100%);clip-path:polygon(0 95%,100% 40%,100% 70%,0 100%)}.slanting-graphic-module--right-parent-container--14cmX{height:150px;opacity:.6}.slanting-graphic-module--right-top-graphic--3aO_U{background-color:#0096f4;width:100%;height:100%;-webkit-clip-path:polygon(0 0,100% 80%,100% 100%,0 70%);clip-path:polygon(0 0,100% 80%,100% 100%,0 70%)}.slanting-graphic-module--right-bottom-graphic--2Radh{background-color:#2fa7f2;width:100%;height:100%;-webkit-clip-path:polygon(0 40%,100% 95%,100% 100%,0 100%);clip-path:polygon(0 40%,100% 95%,100% 100%,0 100%)}@media only screen and (max-width:600px){.slanting-graphic-module--main-parent-container--1ZZ25{height:180px}.slanting-graphic-module--left-parent-container--33TS_,.slanting-graphic-module--right-parent-container--14cmX{height:100px}}.docs-window-module--learn-container--1C_zd{width:calc(100% - 300px);box-sizing:border-box;display:grid;grid-template-columns:5% 1fr 15% 1fr 5%;grid-template-rows:25% 70%}.docs-window-module--learn-welcome--15zJb{grid-column:2/5;display:flex;flex-direction:column;align-self:center;text-align:center}.docs-window-module--using-docs--1I2tE{grid-column:2/3;line-height:1.8}.docs-window-module--using-docs--1I2tE>p{margin-bottom:1.5rem}.docs-window-module--tutorial-section--2N7Oi>h3,.docs-window-module--using-docs--1I2tE>h3{font-size:1.8rem;margin-bottom:2rem}.docs-window-module--main-heading--1V_6P{font-size:2.5rem;margin:.3rem 0 .5rem}.docs-window-module--sub-heading--3XXTm{font-size:1.6rem;font-weight:400}.docs-window-module--heading-text--3k-jp{font-size:.8rem}.docs-window-module--blue-text--uO-6O{color:#0096f4}.docs-window-module--tutorial-section--2N7Oi{grid-column:4/5}.docs-window-module--tutorials--2Pfvm{display:flex;flex-wrap:wrap;width:100%;line-height:1.5}.docs-window-module--tutorial--3UwtJ{width:40%;padding:.5rem 1rem}.docs-window-module--tutorial--3UwtJ:first-child{border-right:1px solid hsla(0,0%,43.9%,.13)}.docs-window-module--tutorial--3UwtJ:nth-child(3){border-right:1px solid hsla(0,0%,43.9%,.13);border-top:1px solid hsla(0,0%,43.9%,.13)}.docs-window-module--tutorial--3UwtJ:nth-child(4){border-top:1px solid hsla(0,0%,43.9%,.13)}.docs-window-module--tutorial--3UwtJ>a{text-decoration:none}.docs-window-module--tutorial--3UwtJ>a>h4{color:#0096f4;margin-bottom:1rem}@media only screen and (max-width:600px){.docs-window-module--learn-container--1C_zd{width:90vw;display:block;padding:2rem 2.5vw;margin:75px auto}}.news-module--news-container--3AG6Q{display:flex;min-height:calc(100vh - 75px)}.news-module--news-section--2YGgZ{width:40%;padding:5%}.news-module--news-title--5Atk-{font-size:2.2rem;margin-bottom:2rem}.news-module--card-grid--y2gag{display:flex;width:100%;flex-wrap:wrap;height:80%}.news-module--card--1HPt7{width:30%;padding:5%;height:40%;line-height:24px;font-size:.8rem}.news-module--card--1HPt7>a{text-decoration:none}.news-module--card--1HPt7>a>h3{margin-bottom:.8rem;color:#0096f4}.news-module--card--1HPt7:first-child{border-right:1px solid hsla(0,0%,43.9%,.19)}.news-module--card--1HPt7:first-child,.news-module--card--1HPt7:nth-child(2){border-bottom:1px solid hsla(0,0%,43.9%,.19)}.news-module--card--1HPt7:nth-child(4){border-left:1px solid hsla(0,0%,43.9%,.19)}.news-module--blue-text--1C9kY{color:#0096f4}@media only screen and (max-width:600px){.news-module--news-container--3AG6Q{flex-direction:column;padding-top:75px;margin-bottom:75px}.news-module--news-section--2YGgZ{width:100%}.news-module--card--1HPt7{height:200px}}</style><meta name="generator" content="Gatsby 2.13.67"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link as="script" rel="preload" href="/component---src-templates-blogs-js-15c9cbf3d47f93187546.js"/><link as="script" rel="preload" href="/app-9c8cb0542e66ba0cdf7b.js"/><link as="script" rel="preload" href="/2-aaf7aa0479b01fd82aa0.js"/><link as="script" rel="preload" href="/1-2bda42cf7d0057071dd1.js"/><link as="script" rel="preload" href="/styles-08a926f30853599411fd.js"/><link as="script" rel="preload" href="/webpack-runtime-2d27ff17c85982019f02.js"/><link as="fetch" rel="preload" href="/page-data/blogs/kitura-custom-encoders-and-decoders/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="header-module--header--2Q3RK"><div class="header-module--logo-section--3Q8-7"><a class="header-module--home-link--15xnn" href="/"><img class="header-module--header-image--t_wFI" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAuNiA2OS42IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAuNiA2OS42OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwQkJFNjt9Cgkuc3Qxe2ZpbGw6IzE1MjMzMzt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTY5LjcsNjAuMWMtMTEuOCwwLTIyLjQtNi41LTI3LjgtMTYuNmMtNS40LDEuOC0xMC4xLDUuMy0xMy40LDkuOGMtMi44LTEuNi02LTIuNS05LjQtMi41CgkJCWMtMTAuNSwwLTE5LDguNS0xOSwxOWg3OC4zYzAtMy40LTAuNi02LjYtMS43LTkuN0w2OS43LDYwLjFMNjkuNyw2MC4xeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05NC4zLDU2LjhjMC4xLTAuNCwwLjItMC43LDAuMi0xLjFjMC0xLjctMC45LTMuMS0yLjMtMy45bC0xMC44LTYuMWMzLjYtNC42LDMuOC0xMS4yLDAuMi0xNkw2My44LDYuMQoJCQljLTYuOSw2LjktOS41LDE2LjMtOC4xLDI1LjJMMCwwYzQuNiwxNi42LDE5LjQsMjcuNywzNS44LDI4LjNjMC43LDEuOSw0LjMsMTEuNiw0LjMsMTEuNmMwLjUsMS4yLDEsMi40LDEuNiwzLjZjMCwwLDAsMCwwLDAKCQkJYzIuOC0wLjksNS43LTEuNCw4LjgtMS40YzExLjksMCwyMi4xLDcuNSwyNiwxOC4xSDEwMGwwLDBMOTQuMyw1Ni44eiBNOTAsNTcuMWMtMC44LDAtMS40LTAuNi0xLjQtMS40YzAtMC44LDAuNi0xLjQsMS40LTEuNAoJCQljMC44LDAsMS40LDAuNiwxLjQsMS40QzkxLjUsNTYuNSw5MC44LDU3LjEsOTAsNTcuMXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik04Mi45LDY0LjFIODJ2LTAuM2gyLjF2MC4zaC0wLjl2Mi40aC0wLjRWNjQuMXogTTg0LjYsNjMuOGgwLjVMODYsNjZsMC44LTIuMmgwLjV2Mi43aC0wLjR2LTIuNGwwLDBsLTEsMi40aC0wLjJsLTEtMi40CgkJCWwwLDB2Mi40aC0wLjRWNjMuOHoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K" alt="Kitura Logo"/><h1>KITURA</h1></a></div><nav class="header-module--header-nav--JLMri"><a class="header-module--nav-link--2jqj3" href="https://github.com/IBM-Swift/Kitura" target="_blank" rel="noopener noreferrer">GitHub</a><a class="header-module--nav-link--2jqj3" href="/learn">Learn</a><a class="header-module--nav-link--2jqj3" href="https://ibm-swift.github.io/Kitura/">API</a><a class="header-module--nav-link--2jqj3" href="/news">News</a></nav><div class="search-module--dropdown--scJAx"><form><input type="text" class="search-module--active-input--36xK4" placeholder="Search" aria-label="Search" value=""/></form><div class="search-module--dropdown-content-hide--9GPCf"><table class="search-module--results-table--1InHv"><tbody></tbody></table></div></div></header><header class="mobile-header-module--header--2k-0H"><div class="mobile-header-module--logo-section--38sB4"><a class="mobile-header-module--home-link--tp11w" href="/"><img class="mobile-header-module--header-image--OoDQK" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAuNiA2OS42IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAuNiA2OS42OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwQkJFNjt9Cgkuc3Qxe2ZpbGw6IzE1MjMzMzt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTY5LjcsNjAuMWMtMTEuOCwwLTIyLjQtNi41LTI3LjgtMTYuNmMtNS40LDEuOC0xMC4xLDUuMy0xMy40LDkuOGMtMi44LTEuNi02LTIuNS05LjQtMi41CgkJCWMtMTAuNSwwLTE5LDguNS0xOSwxOWg3OC4zYzAtMy40LTAuNi02LjYtMS43LTkuN0w2OS43LDYwLjFMNjkuNyw2MC4xeiIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05NC4zLDU2LjhjMC4xLTAuNCwwLjItMC43LDAuMi0xLjFjMC0xLjctMC45LTMuMS0yLjMtMy45bC0xMC44LTYuMWMzLjYtNC42LDMuOC0xMS4yLDAuMi0xNkw2My44LDYuMQoJCQljLTYuOSw2LjktOS41LDE2LjMtOC4xLDI1LjJMMCwwYzQuNiwxNi42LDE5LjQsMjcuNywzNS44LDI4LjNjMC43LDEuOSw0LjMsMTEuNiw0LjMsMTEuNmMwLjUsMS4yLDEsMi40LDEuNiwzLjZjMCwwLDAsMCwwLDAKCQkJYzIuOC0wLjksNS43LTEuNCw4LjgtMS40YzExLjksMCwyMi4xLDcuNSwyNiwxOC4xSDEwMGwwLDBMOTQuMyw1Ni44eiBNOTAsNTcuMWMtMC44LDAtMS40LTAuNi0xLjQtMS40YzAtMC44LDAuNi0xLjQsMS40LTEuNAoJCQljMC44LDAsMS40LDAuNiwxLjQsMS40QzkxLjUsNTYuNSw5MC44LDU3LjEsOTAsNTcuMXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik04Mi45LDY0LjFIODJ2LTAuM2gyLjF2MC4zaC0wLjl2Mi40aC0wLjRWNjQuMXogTTg0LjYsNjMuOGgwLjVMODYsNjZsMC44LTIuMmgwLjV2Mi43aC0wLjR2LTIuNGwwLDBsLTEsMi40aC0wLjJsLTEtMi40CgkJCWwwLDB2Mi40aC0wLjRWNjMuOHoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K" alt="Kitura Logo"/><h1>KITURA</h1></a></div><div class="search-module--dropdown--scJAx"><form><input type="text" class="search-module--active-input--36xK4" placeholder="Search" aria-label="Search" value=""/></form><div class="search-module--dropdown-content-hide--9GPCf"><table class="search-module--results-table--1InHv"><tbody></tbody></table></div></div></header><main><h1 class="blog-title">Pluggable JSON encoders in Kitura 2.5</h1><h3 class="blog-author">By <!-- -->Andrew Lees</h3><h4 class="blog-date">Created on <!-- -->2018-09-01</h4><div class="blogs-window"><p>Codable routing allows you to quickly build REST APIs that work directly with concrete Swift types. Kitura achieves this by using the Codable protocol to encode and decode the body of HTTP requests. In Kitura 2.5, we have added the ability to customize the JSON encoders and decoders used by your router. Furthermore, you can add your own custom encoders and decoders. This allows your routes to handle other data serializations if you want, such as YAML, XML and MessagePack.</p>
<h2 id="bodyencoder-and-bodydecoder"><a href="#bodyencoder-and-bodydecoder" aria-label="bodyencoder and bodydecoder permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BodyEncoder and BodyDecoder</h2>
<p>We’ve added two new protocols called BodyEncoder and BodyDecoder that encapsulate the ability to change Codable types to and from Data.</p>
<p>A class that conforms to BodyEncoder must be able to encode an Encodable type into Data:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">protocol</span> <span class="token builtin">BodyEncoder</span><span class="token punctuation">:</span> <span class="token builtin">AnyObject</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> encode<span class="token operator">&lt;</span>T <span class="token punctuation">:</span> <span class="token builtin">Encodable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">_</span> value<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Data</span>
<span class="token punctuation">}</span></code></pre></div>
<p>A class that conforms to BodyDecoder must be able to decode data into a Decodable type:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">protocol</span> <span class="token builtin">BodyDecoder</span><span class="token punctuation">:</span> <span class="token builtin">AnyObject</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> decode<span class="token operator">&lt;</span>T <span class="token punctuation">:</span> <span class="token builtin">Decodable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">_</span> type<span class="token punctuation">:</span> T<span class="token punctuation">.</span><span class="token keyword">Type</span><span class="token punctuation">,</span> from data<span class="token punctuation">:</span> <span class="token builtin">Data</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-</span><span class="token operator">></span> T
<span class="token punctuation">}</span></code></pre></div>
<p>Kitura extends JSONEncoder/JSONDecoder as well as QueryEncoder/QueryDecoder to conform to BodyEncoder/BodyDecoder. As a result, these coders are usable out of the box. Other encoders/decoders can be made to conform to this protocol so that the Kitura router can use them.</p>
<hr>
<h2 id="mediatype"><a href="#mediatype" aria-label="mediatype permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MediaType</h2>
<p>The media type (formerly known as MIME type) is a two-part identifier that is separated by a forwards slash (e.g. “text/plain”). We have added a MediaType struct to Kitura that represents media type. This is used for selecting an encoder or decoder based on the media type identified in the Accepts or Content-Type HTTP headers. You can initialize a MediaType in three ways:</p>
<ul>
<li>
<p>From a raw media type string</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token function">MediaType</span><span class="token punctuation">(</span><span class="token string">"application/json"</span><span class="token punctuation">)</span></code></pre></div>
</li>
<li>
<p>By providing the type and sub type</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token function">MediaType</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token punctuation">.</span>application<span class="token punctuation">,</span> subtype<span class="token punctuation">:</span> <span class="token string">"json"</span><span class="token punctuation">)</span></code></pre></div>
</li>
<li>
<p>Using a static helper initializer for certain popular media types</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token builtin">MediaType</span><span class="token punctuation">.</span>json</code></pre></div>
</li>
</ul>
<hr>
<h2 id="custom-encoders-and-decoders-on-the-router"><a href="#custom-encoders-and-decoders-on-the-router" aria-label="custom encoders and decoders on the router permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Encoders and Decoders on the Router</h2>
<p>From Kitura 2.5, the Router class has two extra properties: dictionaries called encoders and decoders.</p>
<p>The encoders dictionary maps MediaType keys to closures for generating a BodyEncoder. On initialization, the dictionary includes a JSONEncoder() generator for “application/json”.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">var</span> encoders<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">MediaType</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">BodyEncoder</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>json<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token function">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre></div>
<p>You can send a Codable object from a route either by calling send(_ obj: T) from a RouterResponse or by using a Codable route. When this happens the Router will select the correct encoder based on the Accepts header of the Request. If the request doesn’t have an Accepts header or it doesn’t include any MediaTypes from your dictionary, the router’s defaultResponseMediaType will determine the encoder.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">var</span> defaultResponseMediaType<span class="token punctuation">:</span> <span class="token builtin">MediaType</span> <span class="token operator">=</span> <span class="token punctuation">.</span>json</code></pre></div>
<p>The decoders dictionary maps MediaType keys to closures for generating a BodyDecoder. On initialization, the dictionary includes a JSONDecoder() generator for “application/json” and a QueryDecoder() generator for “application/x-www-form-urlencoded”.</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">var</span> decoders<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">MediaType</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">BodyDecoder</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>json<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">JSONDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">.</span>urlEncoded<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token function">QueryDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre></div>
<p>You can read a Codable object in a route either by calling read(as type: T.Type) from a RouterRequest or by using a Codable route. When this happens the Router will select the correct decoder based on the Content-Type header of the request.</p>
<p>You can add custom encoders and decoders to your router by adding BodyEncoders/BodyDecoders to these dictionary with the MediaType you would like them to encode/decode. You can also replace the existing JSONEncoder and JSONDecoder generators to customize how your Kitura router handles JSON.</p>
<hr>
<h2 id="adding-other-data-serializations"><a href="#adding-other-data-serializations" aria-label="adding other data serializations permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding other data serializations</h2>
<p>The following data serialization formats already have existing Swift packages which implement them using Codable:</p>
<ul>
<li>YAML</li>
<li>XML</li>
<li>BSON</li>
<li>Property Lists</li>
<li>MessagePack</li>
</ul>
<p>To use one of these custom encoders and decoders:</p>
<ol>
<li>Follow the corresponding link above.</li>
<li>Import the repository to your Kitura project.</li>
<li>Extend their Encoder/Decoder Class to conform to BodyEncoder/Decoder.</li>
<li>Add the encoder/decoder and its MediaType to your encoder and decoder dictionary</li>
</ol>
<hr>
<h2 id="example-customizing-the-json-encoder"><a href="#example-customizing-the-json-encoder" aria-label="example customizing the json encoder permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example: Customizing the JSON encoder</h2>
<p>JSON is the most common data serialization technique and Kitura uses it by default for its Codable routes. The JSONEncoder class includes options to customize its encoding strategy. In this example we will show you how to set your Kitura router to send pretty printed JSON from a Codable route.</p>
<ol>
<li>In the terminal, using the Kitura command-line interface, generate a basic Kitura server:</li>
</ol>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">mkdir ~/customCoders
cd ~/customCoders
kitura init
open customCoders.xcodeproj/</code></pre></div>
<ol start="2">
<li>Open Sources > Application > Application.swift</li>
<li>Add a Hello struct after the App class:</li>
</ol>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Hello</span><span class="token punctuation">:</span> <span class="token builtin">Codable</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> hello<span class="token punctuation">:</span> <span class="token builtin">String</span>
    <span class="token keyword">let</span> from<span class="token punctuation">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="4">
<li>Construct a Codable route:</li>
</ol>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift">router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>respondWith<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token builtin">Hello</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token builtin">RequestError</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token keyword">in</span>
    <span class="token keyword">let</span> hello <span class="token operator">=</span> <span class="token function">Hello</span><span class="token punctuation">(</span>hello<span class="token punctuation">:</span> <span class="token string">"world"</span><span class="token punctuation">,</span> from<span class="token punctuation">:</span> <span class="token string">"Kitura"</span><span class="token punctuation">)</span>
    <span class="token function">respondWith</span><span class="token punctuation">(</span>hello<span class="token punctuation">,</span> <span class="token constant">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<ol start="5">
<li>In the top left corner of Xcode you should see a small toolbox icon with the text “customCoders-Package” next to it. Click this icon and then click “customCoders” from the dropdown menu.</li>
<li>Go to <a href="http://localhost:8080/hello">http://localhost:8080/hello</a></li>
</ol>
<p>You will see the hello message printed as standard JSON.</p>
<ol start="7">
<li>After initializeMetrics(router: router) create your custom JSONEncoder() generator:</li>
</ol>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> jsonEncoderGenerator<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">BodyEncoder</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> encoder <span class="token operator">=</span> <span class="token function">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    encoder<span class="token punctuation">.</span>outputFormatting <span class="token operator">=</span> <span class="token punctuation">.</span>prettyPrinted
    <span class="token keyword">return</span> encoder
<span class="token punctuation">}</span></code></pre></div>
<ol start="8">
<li>replace the router’s JSONEncoder with your new one:</li>
</ol>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift">router<span class="token punctuation">.</span>encoders<span class="token punctuation">[</span><span class="token punctuation">.</span>json<span class="token punctuation">]</span> <span class="token operator">=</span> jsonEncoderGenerator</code></pre></div>
<ol start="9">
<li>Restart your project and go to <a href="http://localhost:8080/hello">http://localhost:8080/hello</a></li>
</ol>
<p>The hello message will now be pretty printed JSON.</p></div></main><nav class="mobile-nav-module--mobile-nav--39noo"><a class="mobile-nav-module--nav-link--2OUm2" href="/">Home</a><a class="mobile-nav-module--nav-link--2OUm2" href="https://github.com/IBM-Swift/Kitura" target="_blank" rel="noopener noreferrer">GitHub</a><a class="mobile-nav-module--nav-link--2OUm2" href="/learn">Learn</a><a class="mobile-nav-module--nav-link--2OUm2" href="/api">API</a><a class="mobile-nav-module--nav-link--2OUm2" href="/news">News</a></nav><footer class="footer-module--footer--3zCYC"><a class="footer-module--footer-link--rG16h" href="/privacy">Privacy</a><div class="footer-module--separator--3jUsh"></div><a href="https://github.com/IBM-Swift/Kitura/blob/master/LICENSE.txt" class="footer-module--footer-link--rG16h">License</a></footer></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blogs/kitura-custom-encoders-and-decoders";window.webpackCompilationHash="a23aaa782308d970cae7";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-9c8cb0542e66ba0cdf7b.js"],"component---src-templates-blogs-js":["/component---src-templates-blogs-js-15c9cbf3d47f93187546.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-16eb5b67ba4992f71c99.js"],"component---src-pages-api-js":["/component---src-pages-api-js-236bbb6443f49ff7d1e0.js"],"component---src-pages-blogs-js":["/component---src-pages-blogs-js-eb9af6ae05b3dfb32c2c.js"],"component---src-pages-getting-started-js":["/component---src-pages-getting-started-js-f35ad83deba7453f3803.js"],"component---src-pages-index-js":["/component---src-pages-index-js-6dd5a7ebbfa018f34695.js"],"component---src-pages-learn-js":["/component---src-pages-learn-js-3b254c62c05239feca0d.js"],"component---src-pages-news-js":["/component---src-pages-news-js-b099c4c21b1cdd1eaee3.js"],"component---src-pages-overview-js":["/component---src-pages-overview-js-6788a66b0943b9724a5b.js"],"component---src-pages-privacy-js":["/component---src-pages-privacy-js-7d8cd506ab29c5347c62.js"]};/*]]>*/</script><script src="/webpack-runtime-2d27ff17c85982019f02.js" async=""></script><script src="/styles-08a926f30853599411fd.js" async=""></script><script src="/1-2bda42cf7d0057071dd1.js" async=""></script><script src="/2-aaf7aa0479b01fd82aa0.js" async=""></script><script src="/app-9c8cb0542e66ba0cdf7b.js" async=""></script><script src="/component---src-templates-blogs-js-15c9cbf3d47f93187546.js" async=""></script></body></html>